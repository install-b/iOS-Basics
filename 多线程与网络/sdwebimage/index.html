<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book 本书目录-- 回到所有书目录 -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>SDWebImage库 | 本书目录-- 回到所有书目录</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-splitter/splitter.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-tbfed-pagefooter/footer.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../single/index.html" />
    
    
    <link rel="prev" href="../multithreading/nsoperation/nsoperation.html" />
    

        <!-- head:end -->
    </head>
    <body>
        <!-- body:start -->
        
    <div class="book"
        data-level="2"
        data-chapter-title="SDWebImage库"
        data-filepath="sdwebimage/README.md"
        data-basepath=".."
        data-revision="Wed Jun 08 2016 17:15:59 GMT+0800 (CST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
                
                <li>
                    <a href="http://fzq2016.github.io/index.html" target="blank" class="custom-link">Home</a>
                </li>
            
            

            
            <li class="divider"></li>
            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        目录
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="multithreading/index.html">
            
                
                    <a href="../multithreading/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        多线程
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="multithreading/pthread/pthread.html">
            
                
                    <a href="../multithreading/pthread/pthread.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        pthread
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="multithreading/nsthread/nsthread.html">
            
                
                    <a href="../multithreading/nsthread/nsthread.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        NSThread
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="multithreading/gcd/gcd.html">
            
                
                    <a href="../multithreading/gcd/gcd.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        GCD
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="multithreading/nsoperation/nsoperation.html">
            
                
                    <a href="../multithreading/nsoperation/nsoperation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        NSOperation
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="2" data-path="sdwebimage/index.html">
            
                
                    <a href="../sdwebimage/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        SDWebImage库
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="single/index.html">
            
                
                    <a href="../single/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        单例
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="runloop/index.html">
            
                
                    <a href="../runloop/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        运行循环
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="runloop/cfrunloopmoderef/cfrunloopmoderef.html">
            
                
                    <a href="../runloop/cfrunloopmoderef/cfrunloopmoderef.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        CFRunloopModeRef
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="runloop/cfrunloopsourceref/cfrunloopsourceref.html">
            
                
                    <a href="../runloop/cfrunloopsourceref/cfrunloopsourceref.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        CFRunloopSourceRef
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="runloop/cfrunlooptimerref/cfrunlooptimerref.html">
            
                
                    <a href="../runloop/cfrunlooptimerref/cfrunlooptimerref.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        CFRunloopTimerRef
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="runloop/cfrunlooptimerref/nstimer.html">
            
                
                    <a href="../runloop/cfrunlooptimerref/nstimer.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.1.</b>
                        
                        NSTimer
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="runloop/cfrunloopobserverref/cfrunloopobserverref.html">
            
                
                    <a href="../runloop/cfrunloopobserverref/cfrunloopobserverref.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        CFRunloopObserverRef
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="network/index.html">
            
                
                    <a href="../network/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        网络请求
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="network/nsurl/nsurl.html">
            
                
                    <a href="../network/nsurl/nsurl.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        NSURL
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="network/nsurlrequest/nsurlrequest.html">
            
                
                    <a href="../network/nsurlrequest/nsurlrequest.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        NSURLRequest
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.2.1" data-path="network/nsurlrequest/nsmutableurlrequest/nsmutableurlrequest.html">
            
                
                    <a href="../network/nsurlrequest/nsmutableurlrequest/nsmutableurlrequest.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.1.</b>
                        
                        NSMutableURLRequest
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="network/nsurlsessionconfiguration/nsurlsessionconfiguration.html">
            
                
                    <a href="../network/nsurlsessionconfiguration/nsurlsessionconfiguration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        NSURLSessionConfiguration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="network/http/http.html">
            
                
                    <a href="../network/http/http.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        HTTP状态码
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="network/nsurlconnection/nsurlconnection.html">
            
                
                    <a href="../network/nsurlconnection/nsurlconnection.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        NSURLConnection（过期）
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.5.1" data-path="network/nsurlconnection/nsurlconnection--block/nsurlconnection--block.html">
            
                
                    <a href="../network/nsurlconnection/nsurlconnection--block/nsurlconnection--block.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.1.</b>
                        
                        block（过期）
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5.2" data-path="network/nsurlconnection/nsurlconnection-delegate/nsurlconnection-delegate.html">
            
                
                    <a href="../network/nsurlconnection/nsurlconnection-delegate/nsurlconnection-delegate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.2.</b>
                        
                        delegate（过期）
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="network/nsurlsession/nsurlsession.html">
            
                
                    <a href="../network/nsurlsession/nsurlsession.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                        NSURLSession
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="nsurlsessiontask/index.html">
            
                
                    <a href="../nsurlsessiontask/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.</b>
                        
                        NSURLSessionTask
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.7.1" data-path="network/nsurlsession/nsurlsessiondatatask/nsurlsessiondatatask.html">
            
                
                    <a href="../network/nsurlsession/nsurlsessiondatatask/nsurlsessiondatatask.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.1.</b>
                        
                        NSURLSessionDataTask
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.7.1.1" data-path="network/nsurlsession/nsurlsessiondatatask/nsurlsessiondatatask-block/nsurlsessiondatatask-block.html">
            
                
                    <a href="../network/nsurlsession/nsurlsessiondatatask/nsurlsessiondatatask-block/nsurlsessiondatatask-block.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.1.1.</b>
                        
                        block
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.7.1.2" data-path="network/nsurlsession/nsurlsessiondatatask/nsurlsessiondatatask-delegate/nsurlsessiondatatask-delegate.html">
            
                
                    <a href="../network/nsurlsession/nsurlsessiondatatask/nsurlsessiondatatask-delegate/nsurlsessiondatatask-delegate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.1.2.</b>
                        
                        delegate
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.7.2" data-path="network/nsurlsession/nsurlsessionuploadtask.html">
            
                
                    <a href="../network/nsurlsession/nsurlsessionuploadtask.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.2.</b>
                        
                        NSURLSessionUploadTask
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.7.3" data-path="network/nsurlsession/nsurlsessiondownloadtask.html">
            
                
                    <a href="../network/nsurlsession/nsurlsessiondownloadtask.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.3.</b>
                        
                        NSURLSessionDownloadTask
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.7.3.1" data-path="network/nsurlsession/nsurlsessiondownloadtask-block.html">
            
                
                    <a href="../network/nsurlsession/nsurlsessiondownloadtask-block.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.3.1.</b>
                        
                        block
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.7.3.2" data-path="network/nsurlsession/nsurlsessiondownloadtask-delegate.html">
            
                
                    <a href="../network/nsurlsession/nsurlsessiondownloadtask-delegate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.3.2.</b>
                        
                        delegate
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="filedownload/index.html">
            
                
                    <a href="../filedownload/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        文件下载
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="filedownload/smallfile/smallfile.html">
            
                
                    <a href="../filedownload/smallfile/smallfile.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        小文件下载
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="filedownload/broken_point_download/broken_point_download.html">
            
                
                    <a href="../filedownload/broken_point_download/broken_point_download.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        断点下载
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="filedownload/offline_breakpoint_downloading/offline_breakpoint_downloading.html">
            
                
                    <a href="../filedownload/offline_breakpoint_downloading/offline_breakpoint_downloading.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        离线断点下载
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="dataanalyzing/index.html">
            
                
                    <a href="../dataanalyzing/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        数据解析
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="dataanalyzing/jzonanalyzingjzon/jzonanalyzingjzon.html">
            
                
                    <a href="../dataanalyzing/jzonanalyzingjzon/jzonanalyzingjzon.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        JSON解析
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="dataanalyzing/xmlanalyzing/xmlanalyzing.html">
            
                
                    <a href="../dataanalyzing/xmlanalyzing/xmlanalyzing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        XML解析
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="fileupload/index.html">
            
                
                    <a href="../fileupload/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        文件上传
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="fileupload/nsurlsession---upload/nsurlsession---upload.html">
            
                
                    <a href="../fileupload/nsurlsession---upload/nsurlsession---upload.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        NSURLSession上传
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="fileupload/nsurlconnection---upload/nsurlconnection---upload.html">
            
                
                    <a href="../fileupload/nsurlconnection---upload/nsurlconnection---upload.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        NSURLConnection上传（过期不用）
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="filecompressanduncompress/index.html">
            
                
                    <a href="../filecompressanduncompress/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        文件的压缩和解压缩
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="afn/index.html">
            
                
                    <a href="../afn/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        AFN框架
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="afn/sendrequest.html">
            
                
                    <a href="../afn/sendrequest.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        发送网络请求
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="afn/download.html">
            
                
                    <a href="../afn/download.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.2.</b>
                        
                        下载
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="afn/upload.html">
            
                
                    <a href="../afn/upload.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.3.</b>
                        
                        上传
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.4" data-path="afn/serializer.html">
            
                
                    <a href="../afn/serializer.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.4.</b>
                        
                        序列化处理
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.5" data-path="afn/monitoringnetwork.html">
            
                
                    <a href="../afn/monitoringnetwork.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.5.</b>
                        
                        网络监测
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11" data-path="datasecurity/index.html">
            
                
                    <a href="../datasecurity/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        数据安全
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="nsexception/index.html">
            
                
                    <a href="../nsexception/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        NSException(异常)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="nsinvocation/index.html">
            
                
                    <a href="../nsinvocation/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        NSInvocation
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >本书目录-- 回到所有书目录</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h3 id="&#x591A;&#x56FE;&#x4E0B;&#x8F7D;">&#x591A;&#x56FE;&#x4E0B;&#x8F7D;</h3>
<ul>
<li><a href="http://blog.csdn.net/huang2009303513/article/details/41363035" target="_blank">SDWebImage &#x539F;&#x7406;&#x53CA;&#x4F7F;&#x7528;</a></li>
</ul>
<h3 id="sdwebimage&#xFF08;&#x591A;&#x56FE;&#x4E0B;&#x8F7D;&#x6846;&#x67B6;&#xFF09;">SDWebImage&#xFF08;&#x591A;&#x56FE;&#x4E0B;&#x8F7D;&#x6846;&#x67B6;&#xFF09;</h3>
<p>&#xFF08;1&#xFF09;SDWebImage&#x57FA;&#x672C;&#x4F7F;&#x7528;</p>
<pre><code class="lang-objc">    <span class="hljs-number">01</span> &#x8BBE;&#x7F6E;imageView&#x7684;&#x56FE;&#x7247;
    <span class="hljs-comment">/*
     &#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;:&#x8981;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;&#x7684;url
     &#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;:&#x5360;&#x4F4D;&#x56FE;&#x7247;
     &#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;:&#x4E0B;&#x8F7D;&#x7684;&#x7B56;&#x7565;  kNilOptions&#x8868;&#x793A;&#x91C7;&#x7528;&#x9ED8;&#x8BA4;
     &#x7B2C;&#x56DB;&#x4E2A;&#x53C2;&#x6570;:progress &#x83B7;&#x53D6;&#x4E0B;&#x8F7D;&#x8FDB;&#x5EA6;
     &#x7B2C;&#x4E94;&#x4E2A;&#x53C2;&#x6570;:completed &#x4E0B;&#x8F7D;&#x5B8C;&#x6210;
     */</span>
    [cell<span class="hljs-variable">.imageView</span> sd_setImageWithURL:[<span class="hljs-built_in">NSURL</span> URLWithString:app<span class="hljs-variable">.icon</span>] placeholderImage:[<span class="hljs-built_in">UIImage</span> imageNamed:<span class="hljs-string">@&quot;Snip20151102_160&quot;</span>] options:kNilOptions progress:^(<span class="hljs-built_in">NSInteger</span> receivedSize, <span class="hljs-built_in">NSInteger</span> expectedSize) {

        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;%f&quot;</span>,<span class="hljs-number">1.0</span>* receivedSize/expectedSize);

    } completed:^(<span class="hljs-built_in">UIImage</span> *image, <span class="hljs-built_in">NSError</span> *error, SDImageCacheType cacheType, <span class="hljs-built_in">NSURL</span> *imageURL) {

        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;&#x4E0B;&#x8F7D;&#x5B8C;&#x6210;&quot;</span>);
    }];

    <span class="hljs-number">02</span> &#x8BBE;&#x7F6E;&#x56FE;&#x7247;&#x5E76;&#x8BA1;&#x7B97;&#x4E0B;&#x8F7D;&#x8FDB;&#x5EA6;
       <span class="hljs-comment">//&#x4E0B;&#x8F7D;&#x5E76;&#x8BBE;&#x7F6E;&#x56FE;&#x7247;</span>
    <span class="hljs-comment">/*
     &#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x8981;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;&#x7684;url&#x5730;&#x5740;
     &#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x8BBE;&#x7F6E;&#x8BE5;imageView&#x7684;&#x5360;&#x4F4D;&#x56FE;&#x7247;
     &#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x4F20;&#x4E00;&#x4E2A;&#x679A;&#x4E3E;&#x503C;&#xFF0C;&#x544A;&#x8BC9;&#x7A0B;&#x5E8F;&#x4F60;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;&#x7684;&#x7B56;&#x7565;&#x662F;&#x4EC0;&#x4E48;
     &#x7B2C;&#x4E00;&#x4E2A;block&#x5757;&#xFF1A;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x56FE;&#x7247;&#x6570;&#x636E;&#x7684;&#x4E0B;&#x8F7D;&#x8FDB;&#x5EA6;
         receivedSize&#xFF1A;&#x5DF2;&#x7ECF;&#x4E0B;&#x8F7D;&#x5B8C;&#x6210;&#x7684;&#x6570;&#x636E;&#x5927;&#x5C0F;
         expectedSize&#xFF1A;&#x8BE5;&#x6587;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x603B;&#x5927;&#x5C0F;
     &#x7B2C;&#x4E8C;&#x4E2A;block&#x5757;&#xFF1A;&#x5F53;&#x56FE;&#x7247;&#x4E0B;&#x8F7D;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x8BE5;block&#x4E2D;&#x7684;&#x4EE3;&#x7801;
         image:&#x4E0B;&#x8F7D;&#x5F97;&#x5230;&#x7684;&#x56FE;&#x7247;&#x6570;&#x636E;
         error:&#x4E0B;&#x8F7D;&#x51FA;&#x73B0;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;
         SDImageCacheType&#xFF1A;&#x56FE;&#x7247;&#x7684;&#x7F13;&#x5B58;&#x7B56;&#x7565;&#xFF08;&#x4E0D;&#x7F13;&#x5B58;&#xFF0C;&#x5185;&#x5B58;&#x7F13;&#x5B58;&#xFF0C;&#x6C99;&#x76D2;&#x7F13;&#x5B58;&#xFF09;
         imageURL&#xFF1A;&#x4E0B;&#x8F7D;&#x7684;&#x56FE;&#x7247;&#x7684;url&#x5730;&#x5740;
     */</span>
    [cell<span class="hljs-variable">.imageView</span> sd_setImageWithURL:[<span class="hljs-built_in">NSURL</span> URLWithString:app<span class="hljs-variable">.icon</span>] placeholderImage:[<span class="hljs-built_in">UIImage</span> imageNamed:<span class="hljs-string">@&quot;placehoder&quot;</span>] options:SDWebImageRetryFailed progress:^(<span class="hljs-built_in">NSInteger</span> receivedSize, <span class="hljs-built_in">NSInteger</span> expectedSize) {

        <span class="hljs-comment">//&#x8BA1;&#x7B97;&#x5F53;&#x524D;&#x56FE;&#x7247;&#x7684;&#x4E0B;&#x8F7D;&#x8FDB;&#x5EA6;</span>
        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@&quot;%.2f&quot;</span>,<span class="hljs-number">1.0</span> *receivedSize / expectedSize);

    } completed:^(<span class="hljs-built_in">UIImage</span> *image, <span class="hljs-built_in">NSError</span> *error, SDImageCacheType cacheType, <span class="hljs-built_in">NSURL</span> *imageURL) {

    }];


    <span class="hljs-number">03</span> &#x8BBE;&#x7F6E;&#x6309;&#x94AE;&#x56FE;&#x7247;&#xFF0C;&#x5FC5;&#x987B;&#x5206;&#x72B6;&#x6001;&#x8BBE;&#x7F6E;
    [button sd_setImageWithURL:[<span class="hljs-built_in">NSURL</span> URLWithString:url] forState:<span class="hljs-built_in">UIControlStateNormal</span> placeholderImage:image];


    <span class="hljs-number">04</span> &#x7CFB;&#x7EDF;&#x7EA7;&#x5185;&#x5B58;&#x8B66;&#x544A;&#x5982;&#x4F55;&#x5904;&#x7406;
    <span class="hljs-comment">//&#x53D6;&#x6D88;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x7684;&#x6240;&#x6709;&#x4E0B;&#x8F7D;&#x64CD;&#x4F5C;</span>
    <span class="hljs-comment">//&#x5185;&#x90E8;&#x81EA;&#x52A8;&#x5B9E;&#x73B0;[[SDWebImageManager sharedManager].imageCache clearDisk]</span>
    [[SDWebImageManager sharedManager] cancelAll];

    <span class="hljs-comment">//&#x6E05;&#x9664;&#x7F13;&#x5B58;&#x6570;&#x636E;(&#x9762;&#x8BD5;)</span>
    <span class="hljs-comment">//cleanDisk&#xFF1A;&#x5220;&#x9664;&#x8FC7;&#x671F;&#x7684;&#x6587;&#x4EF6;&#x6570;&#x636E;&#xFF0C;&#x8BA1;&#x7B97;&#x5F53;&#x524D;&#x672A;&#x8FC7;&#x671F;&#x7684;&#x5DF2;&#x7ECF;&#x4E0B;&#x8F7D;&#x7684;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x73B0;&#x8BE5;&#x6570;&#x636E;&#x5927;&#x5C0F;&#x5927;&#x4E8E;&#x6211;&#x4EEC;&#x8BBE;&#x7F6E;&#x7684;&#x6700;&#x5927;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x5927;&#x5C0F;&#xFF0C;&#x90A3;&#x4E48;&#x7A0B;&#x5E8F;&#x5185;&#x90E8;&#x4F1A;&#x6309;&#x7167;&#x6309;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x7F13;&#x5B58;&#x7684;&#x65F6;&#x95F4;&#x4ECE;&#x8FDC;&#x5230;&#x8FD1;&#x5220;&#x9664;&#xFF0C;&#x76F4;&#x5230;&#x5C0F;&#x4E8E;&#x6700;&#x5927;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x4E3A;&#x6B62;&#x3002;kDefaultCacheMaxCacheAge:&#x9ED8;&#x8BA4;&#x7F13;&#x5B58;&#x5468;&#x671F;&#x662F;&#x4E00;&#x5468;</span>

    <span class="hljs-comment">//clearMemory:&#x76F4;&#x63A5;&#x5220;&#x9664;&#x6587;&#x4EF6;&#xFF0C;&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x6587;&#x4EF6;&#x5939;</span>

    <span class="hljs-comment">//[[SDWebImageManager sharedManager].imageCache cleanDisk];</span>
    [[SDWebImageManager sharedManager]<span class="hljs-variable">.imageCache</span> clearMemory];

    <span class="hljs-number">05</span> SDWebImage&#x9ED8;&#x8BA4;&#x7684;&#x7F13;&#x5B58;&#x65F6;&#x95F4;&#x662F;<span class="hljs-number">1</span>&#x5468;

    <span class="hljs-number">06</span> &#x5982;&#x4F55;&#x64AD;&#x653E;gif&#x56FE;&#x7247;
    <span class="hljs-comment">/*
    6-1 &#x628A;&#x7528;&#x6237;&#x4F20;&#x5165;&#x7684;gif&#x56FE;&#x7247;-&gt;NSData
    6-2 &#x6839;&#x636E;&#x8BE5;Data&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x56FE;&#x7247;&#x6570;&#x636E;&#x6E90;&#xFF08;NSData-&gt;CFImageSourceRef&#xFF09;
    6-3 &#x8BA1;&#x7B97;&#x8BE5;&#x6570;&#x636E;&#x6E90;&#x4E2D;&#x4E00;&#x5171;&#x6709;&#x591A;&#x5C11;&#x5E27;&#xFF0C;&#x628A;&#x6BCF;&#x4E00;&#x5E27;&#x6570;&#x636E;&#x53D6;&#x51FA;&#x6765;&#x653E;&#x5230;&#x56FE;&#x7247;&#x6570;&#x7EC4;&#x4E2D;
    6-4 &#x6839;&#x636E;&#x5F97;&#x5230;&#x7684;&#x6570;&#x7EC4;+&#x8BA1;&#x7B97;&#x7684;&#x52A8;&#x753B;&#x65F6;&#x95F4;-&#x300B;&#x53EF;&#x52A8;&#x753B;&#x7684;image
    [UIImage animatedImageWithImages:images duration:duration];
    */</span>

    <span class="hljs-number">07</span> &#x5982;&#x4F55;&#x5224;&#x65AD;&#x5F53;&#x524D;&#x56FE;&#x7247;&#x7C7B;&#x578B;
    + (<span class="hljs-built_in">NSString</span> *)sd_contentTypeForImageData:(<span class="hljs-built_in">NSData</span> *)data;
</code></pre>
<p>&#xFF08;2&#xFF09;SDWebImage&#x57FA;&#x672C;&#x7ED3;&#x6784;</p>
<p><img src="1.png" alt="PNG"></p>
<h3 id="sdwebimage&#x7684;&#x7F13;&#x5B58;&#x673A;&#x5236;">SDWebImage&#x7684;&#x7F13;&#x5B58;&#x673A;&#x5236;</h3>
<ol>
<li>&#x8BF7;&#x8BF4;&#x660E;SDWebImage&#x5185;&#x90E8;&#x662F;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x7F13;&#x5B58;&#x5904;&#x7406;&#x7684;&#xFF1F;&#xFF08;&#x7F13;&#x5B58;&#x5904;&#x7406;&#x673A;&#x5236;&amp;&#x7F13;&#x5B58;&#x7C7B;&amp;&#x7F13;&#x5B58;&#x65F6;&#x5019;&#x952E;&#x503C;&#x5BF9;&#x5982;&#x4F55;&#x8BBE;&#x7F6E;&#xFF09;&#x7B54;&#xFF1A;<ol>
<li>&#x7F13;&#x5B58;&#x673A;&#x5236;&#xFF1A;&#x5185;&#x90E8;&#x4F7F;&#x7528;&#x4E86;&#x5185;&#x5B58;&#x7F13;&#x5B58;&#x548C;&#x78C1;&#x76D8;&#x7F13;&#x5B58;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x673A;&#x5236;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x5728;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x5148;&#x5BF9;&#x56FE;&#x7247;&#x8FDB;&#x884C;&#x5185;&#x5B58;&#x7F13;&#x5B58;&#xFF0C;&#x7136;&#x540E;&#x505A;&#x78C1;&#x76D8;&#x7F13;&#x5B58;&#x3002;&#x5728;&#x8BFB;&#x53D6;&#x56FE;&#x7247;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#x5148;&#x68C0;&#x67E5;&#x5185;&#x5B58;&#x7F13;&#x5B58;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x518D;&#x68C0;&#x67E5;&#x78C1;&#x76D8;&#x7F13;&#x5B58;&#x3002;</li>
<li>&#x7F13;&#x5B58;&#x7C7B;&#xFF1A;&#x5185;&#x90E8;&#x4F7F;&#x7528;NSCache&#x4E13;&#x95E8;&#x5904;&#x7406;&#x5185;&#x5B58;&#x7F13;&#x5B58;&#x3002;&#x8BE5;&#x7C7B;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x548C;&#x53EF;&#x53D8;&#x5B57;&#x5178;&#x7C7B;&#x4F3C;&#xFF0C;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x4E14;&#x5177;&#x5907;&#x81EA;&#x52A8;&#x56DE;&#x6536;&#x6E05;&#x7406;&#x7684;&#x529F;&#x80FD;&#x3002;</li>
<li>&#x7F13;&#x5B58;&#x65F6;&#x5019;&#x952E;&#x503C;&#x5BF9;&#x5982;&#x4F55;&#x8BBE;&#x7F6E;&#xFF1A;&#x628A;&#x56FE;&#x7247;&#x7684;URL&#x4F5C;&#x4E3A;KEY&#x4FDD;&#x5B58;&#xFF0C;&#x628A;&#x56FE;&#x7247;&#xFF08;UIimage&#xFF09;&#x4F5C;&#x4E3A;Value&#x6765;&#x4FDD;&#x5B58;&#x3002;</li>
</ol>
</li>
</ol>
<h3 id="sdwebimage&#x5E95;&#x5C42;&#x57FA;&#x672C;&#x539F;&#x7406;&#xFF1A;">SDWebImage&#x5E95;&#x5C42;&#x57FA;&#x672C;&#x539F;&#x7406;&#xFF1A;</h3>
<ol>
<li><p>&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x53CA;&#x601D;&#x8DEF;&#xFF08;&#x90E8;&#x5206;&#xFF09;&#xFF1A;</p>
<pre><code> 1. &#x591A;&#x56FE;&#x7247;&#x5C55;&#x793A;&#xFF1A;&#x901A;&#x8FC7;NSData&#x7F51;&#x7EDC;&#x4E0B;&#x8F7D;&#x5C0F;&#x56FE;&#x7247;
 2. &#x91CD;&#x590D;&#x4E0B;&#x8F7D;&#x95EE;&#x9898;&#xFF1A;&#x8BBE;&#x7F6E;&#x4EFB;&#x52A1;&#x7F13;&#x5B58;&#xFF0C;&#x6BCF;&#x6B21;&#x4E0B;&#x8F7D;&#x524D;&#x5148;&#x5224;&#x65AD;
 3. &#x5185;&#x5B58;&#x66B4;&#x6DA8;&#x95EE;&#x9898;&#xFF1A;&#x56FE;&#x7247;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x673A;&#x5236;&#x3002;
 4. &#x5361;&#x4F4F;&#x4E3B;&#x7EBF;&#x7A0B;&#xFF1A;&#x5728;&#x5B50;&#x7EBF;&#x7A0B;&#x4E2D;&#x4E0B;&#x8F7D;&#xFF0C;&#x4E0B;&#x8F7D;&#x5B8C;&#x6BD5;&#x540E;&#x56DE;&#x4E3B;&#x7EBF;&#x7A0B;&#x5237;&#x65B0;UI
 5. &#x56FE;&#x7247;&#x663E;&#x793A;&#x9519;&#x8BEF;&#xFF1A;&#x901A;&#x8FC7;reloadRowsAtIndexPaths&#x5B9A;&#x70B9;&#x5237;&#x65B0;UI
 6. &#x5176;&#x4ED6;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x8BF7;&#x770B;SDWebImage&#x6E90;&#x7801;
</code></pre></li>
<li><p>&#x5B9E;&#x73B0;&#x6B65;&#x9AA4;&#xFF1A;
<img src="&#x81EA;&#x5B9A;&#x4E49;NSOperation&#x4E0B;&#x8F7D;&#x56FE;&#x7247;&#x601D;&#x8DEF; &#x2013; &#x6709;&#x6C99;&#x76D2;&#x7F13;&#x5B58;.png" alt=""></p>
</li>
</ol>
<ul>
<li><p>&#x5B9E;&#x73B0;&#x7EC6;&#x8282;&#xFF1A;</p>
<pre><code>  1.&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x6D41;&#x7A0B;&#xFF1A;
      1. &#x52A0;&#x8F7D;&#x987A;&#x5E8F;&#xFF1A;&#x56FE;&#x7247;&#x7F13;&#x5B58;&#xFF08;&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#xFF09;&#x52A0;&#x8F7D;--&#x78C1;&#x76D8;&#x7F13;&#x5B58;&#xFF08;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#xFF09;&#x52A0;&#x8F7D;--&#x5148;&#x7528;&#x5360;&#x4F4D;&#x56FE;&#x7247;&#x663E;&#x793A;&#xFF0C;&#x65B0;&#x5F00;&#x961F;&#x5217;&#x53CA;&#x4EFB;&#x52A1;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;
      2. &#x56FE;&#x7247;&#x5B58;&#x5728;&#x5224;&#x65AD;&#xFF1A;&#x4EE5;image&#x662F;&#x5426;&#x5B58;&#x5728;&#x5224;&#x65AD;&#x4E3A;&#x5B9C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x901A;&#x8FC7;&#x8DEF;&#x5F84;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x6570;&#x7EC4;&#x3001;&#x5B57;&#x5178;&#x5305;&#x542B;&#x5143;&#x7D20;&#x7B49;&#x65B9;&#x5F0F;&#x5224;&#x65AD;&#xFF1B;&#x53EF;&#x901A;&#x8FC7;image&#x662F;&#x5426;&#x4E3A;&#x7A7A;&#x5224;&#x65AD;&#xFF0C;&#x4E0D;&#x4E3A;&#x7A7A;&#xFF0C;&#x8FD4;&#x56DE;&#x56FE;&#x7247;&#xFF0C;&#x53CD;&#x4E4B;&#x7EE7;&#x7EED;&#x52A0;&#x8F7D;

  2.&#x7F13;&#x5B58;&#x5904;&#x7406;&#xFF1A;
      1. &#x56FE;&#x7247;&#x7F13;&#x5B58;&#x5916;&#x7684;&#x56FE;&#x7247;&#x5728;&#x83B7;&#x53D6;&#x65F6;&#x90FD;&#x8981;&#x5199;&#x5165;&#x56FE;&#x7247;&#x7F13;&#x5B58;&#xFF0C;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x4E2D;&#x7ACB;&#x5373;&#x5199;&#x5165;&#x3002;&#x5373;&#x4ECE;&#x6C99;&#x76D2;&#x4E2D;&#x627E;&#x5230;&#x56FE;&#x7247;&#x8FD8;&#x662F;&#x4E0B;&#x8F7D;&#x5B8C;&#x56FE;&#x7247;&#x540E;&#x90FD;&#x8981;&#x5199;&#x5165;&#x56FE;&#x7247;&#x7F13;&#x5B58;&#x4E2D;&#xFF08;&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#xFF09;
      2. &#x78C1;&#x76D8;&#x7F13;&#x5B58;&#x5916;&#x7684;&#x56FE;&#x7247;&#xFF0C;&#x5728;&#x4E0B;&#x8F7D;&#x5B8C;&#x540E;&#x8981;&#x5199;&#x5165;&#xFF0C;&#x7531;&#x4E8E;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x8017;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x5B50;&#x7EBF;&#x7A0B;&#x4E2D;&#x6267;&#x884C;&#x3002;&#xFF08;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#xFF09;
      3. &#x56FE;&#x7247;&#x7F13;&#x5B58;&#x548C;&#x78C1;&#x76D8;&#x7F13;&#x5B58;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x5B57;&#x5178;&#x65B9;&#x5F0F;&#x4FDD;&#x5B58;&#xFF0C;Key&#x503C;&#x53EF;&#x4EE5;&#x7528;&#x56FE;&#x7247;&#x7684;&#x540E;&#x7F00;&#x540D;&#x4FDD;&#x5B58;&#xFF1B;&#x4FDD;&#x5B58;&#x524D;&#x8981;&#x5BF9;value&#x503C;&#x8FDB;&#x884C;&#x975E;&#x7A7A;&#x5224;&#x65AD;
      4. &#x78C1;&#x76D8;&#x7F13;&#x5B58;&#x5730;&#x5740;&#xFF1A;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x4E0B;&#x6B21;&#x4F7F;&#x7528;&#xFF0C;&#x6700;&#x597D;&#x5C06;&#x6570;&#x636E;&#x5199;&#x5165;&#x6C99;&#x76D2;&#x4E2D;&#xFF0C;&#x65B9;&#x4FBF;&#x4EE5;&#x540E;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x3002;documents&#x4E0B;&#x9762;&#x7684;&#x6587;&#x4EF6;&#x4F1A;&#x88AB;&#x5907;&#x4EFD;&#xFF0C;&#x53E6;&#x5916;&#x82F9;&#x679C;&#x5B98;&#x65B9;&#x4E25;&#x7981;&#x5C06;&#x4E0B;&#x8F7D;&#x7684;&#x56FE;&#x7247;&#x653E;&#x5230;documents&#xFF0C;&#x5F03;&#x4E4B;&#x3002;library--perference&#x4FDD;&#x5B58;&#x504F;&#x597D;&#x8BBE;&#x7F6E;&#x7684;&#xFF0C;&#x5F03;&#x4E4B;&#xFF1B;tmp&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x4F1A;&#x88AB;&#x968F;&#x5373;&#x5220;&#x9664;&#xFF0C;&#x5F03;&#x4E4B;&#x3002;&#x6700;&#x7EC8;&#x65B9;&#x6848;&#x662F;&#x653E;&#x5728;library--cache&#x4E2D;&#xFF0C;&#x4E0D;&#x4F1A;&#x5907;&#x4EFD;&#xFF0C;&#x5B9A;&#x671F;&#x53EF;&#x5220;&#x9664;
      5. &#x4E3A;&#x907F;&#x514D;&#x91CD;&#x590D;&#x4E0B;&#x8F7D;&#xFF0C;&#x53EF;&#x8BBE;&#x7F6E;&#x4EFB;&#x52A1;&#x7F13;&#x5B58;&#xFF0C;&#x6BCF;&#x6B21;&#x521B;&#x5EFA;&#x65B0;&#x4EFB;&#x52A1;&#x524D;&#x5148;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4EFB;&#x52A1;&#xFF0C;&#x82E5;&#x5B58;&#x5728;&#x5219;&#x7B49;&#x5F85;&#xFF1B;&#x56FE;&#x7247;&#x4E0B;&#x8F7D;&#x540E;&#xFF08;&#x65E0;&#x8BBA;&#x6210;&#x529F;&#x4E0E;&#x5931;&#x8D25;&#xFF09;&#x90FD;&#x5E94;&#x8BE5;&#x6E05;&#x7A7A;&#x4EFB;&#x52A1;&#x7F13;&#x5B58;

  3.&#x56FE;&#x7247;&#x4E0B;&#x8F7D;&#xFF1A;
      1. &#x5728;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;&#x524D;&#xFF0C;&#x4E3B;&#x7EBF;&#x7A0B;&#x5148;&#x7528;&#x5360;&#x4F4D;&#x56FE;&#x7247;&#x663E;&#x793A;cell.imageView.image.
      2. &#x4E0B;&#x8F7D;&#x4EFB;&#x52A1;&#x53EF;&#x4EE5;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x6765;&#x5F02;&#x6B65;&#x6267;&#x884C;
      3. &#x5148;&#x6839;&#x636E;app.icon&#x4ECE;&#x4EFB;&#x52A1;&#x7F13;&#x5B58;&#x4E2D;&#x52A0;&#x8F7D;&#x4EFB;&#x52A1;&#xFF0C;&#x5224;&#x65AD;&#x4EFB;&#x52A1;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5728;operations&#x4E2D;&#xFF0C;&#x82E5;&#x662F;&#xFF0C;&#x5219;&#x7B49;&#x5F85;&#x4E0B;&#x8F7D;&#x5B8C;&#x6BD5;&#xFF1B;&#x5426;&#x5219;&#x518D;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x4EFB;&#x52A1;
      4. &#x5C0F;&#x6587;&#x4EF6;&#x7684;&#x4E0B;&#x8F7D;&#x76F4;&#x63A5;&#x901A;&#x8FC7;NSData&#x4E0B;&#x8F7D;&#x6700;&#x597D;&#xFF0C;&#x4F7F;&#x7528;NSURLSessionDownLoadTask-block&#x8FD8;&#x662F;&#x4F1A;&#x6709;&#x70B9;&#x9EBB;&#x70E6;
      5. &#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x975E;&#x7A7A;&#x5224;&#x65AD;&#xFF1A;&#x56FE;&#x7247;&#x4E0B;&#x8F7D;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x5728;&#x5199;&#x5165;&#x56FE;&#x7247;&#x7F13;&#x5B58;&#x524D;&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x975E;&#x7A7A;&#x5224;&#x65AD;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5B57;&#x5178;&#x4FDD;&#x5B58;&#x7684;value&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&#xFF0C;&#x6240;&#x4EE5;&#x5F53;&#x4E0B;&#x8F7D;&#x7684;&#x56FE;&#x7247;&#x4E3A;&#x7A7A;&#x65F6;&#xFF0C;&#x8981;&#x5148;&#x79FB;&#x9664;&#x64CD;&#x4F5C;&#x7F13;&#x5B58;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x3002;&#x79FB;&#x9664;&#x64CD;&#x4F5C;&#x7F13;&#x5B58;&#x662F;&#x56E0;&#x4E3A;&#x4E0D;&#x79FB;&#x9664;&#xFF0C;&#x4E0B;&#x6B21;&#x5C31;&#x4E0D;&#x4F1A;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#xFF09;
      6. &#xFF0C;&#x6700;&#x7EC8;&#x4E0B;&#x8F7D;&#x5B8C;&#x6BD5;&#x540E;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#xFF1A;1.&#x56DE;&#x5230;&#x4E3B;&#x7EBF;&#x7A0B;&#x5237;&#x65B0;UI&#xFF0C;&#x5E76;&#x5199;&#x5165;&#x56FE;&#x7247;&#x7F13;&#x5B58;&#xFF1B;2.&#x6E05;&#x9664;&#x4E0B;&#x8F7D;&#x4EFB;&#x52A1;&#x7F13;&#x5B58;&#xFF1B;3.&#x5C06;&#x56FE;&#x7247;&#x5199;&#x5165;&#x5230;&#x6C99;&#x76D2;&#x7F13;&#x5B58;
      7. &#x4E0B;&#x8F7D;&#x56FE;&#x7247;&#x8017;&#x65F6;&#xFF0C;&#x5E94;&#x8BE5;&#x65B0;&#x5F00;&#x5B50;&#x7EBF;&#x7A0B;&#x6765;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;NSOperationQueue&#x6765;&#x4E0B;&#x8F7D;&#x4EFB;&#x52A1;&#xFF08;&#x61D2;&#x52A0;&#x8F7D;&#x975E;&#x4E3B;&#x961F;&#x5217;&#xFF09;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x6700;&#x5927;&#x5E76;&#x53D1;&#x6570;&#x4F18;&#x5316;&#x6027;&#x80FD;

  4. &#x4E3B;&#x7EBF;&#x7A0B;&#x5237;&#x65B0;UI
      1. &#x4E0B;&#x8F7D;&#x5B8C;&#x6BD5;&#x540E;&#x8981;&#x56DE;&#x5230;&#x4E3B;&#x7EBF;&#x7A0B;&#x5237;&#x65B0;UI&#x3002;
      2. &#x7531;&#x4E8E;cell&#x7684;&#x5FAA;&#x73AF;&#x5229;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x5237;&#x65B0;&#x8981;&#x901A;&#x8FC7;reloadRowsAtIndexPaths

  5. &#x5185;&#x5B58;&#x8B66;&#x544A;&#x5904;&#x7406;&#xFF1A;
      1.&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5230;&#x5B57;&#x5178;&#x4E2D;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x6536;&#x5230;&#x5185;&#x5B58;&#x8B66;&#x544A;&#xFF0C;&#x8FD9;&#x65F6;&#x8981;&#x6E05;&#x9664;&#x6240;&#x6709;&#x5185;&#x5B58;&#x56FE;&#x7247;&#x548C;&#x64CD;&#x4F5C;&#x7F13;&#x5B58;&#xFF0C;&#x5E76;&#x505C;&#x6B62;&#x961F;&#x5217;&#xFF0C;&#x4F7F;&#x7A0B;&#x5E8F;&#x5F97;&#x4EE5;&#x4FDD;&#x5B58;&#xFF09;
</code></pre></li>
</ul>
<ul>
<li>&#x57FA;&#x672C;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-objc"><span class="hljs-preprocessor">###&#x5728;vc.m&#x4E2D;</span>
<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">ViewController</span> ()</span>
<span class="hljs-comment">/** tableView&#x7684;&#x6570;&#x636E;&#x6E90; */</span>
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span> ,<span class="hljs-keyword">strong</span>)<span class="hljs-built_in">NSArray</span> *apps;
<span class="hljs-comment">/** &#x56FE;&#x7247;&#x7F13;&#x5B58;*/</span>
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span> ,<span class="hljs-keyword">strong</span> ,nonnull)<span class="hljs-built_in">NSMutableDictionary</span> *images;
<span class="hljs-comment">/** &#x4EFB;&#x52A1;&#x7F13;&#x5B58; */</span>
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span> ,<span class="hljs-keyword">strong</span> ,nonnull)<span class="hljs-built_in">NSMutableDictionary</span> *operations;
<span class="hljs-comment">/** &#x961F;&#x5217; */</span>
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span> ,<span class="hljs-keyword">strong</span>)<span class="hljs-built_in">NSOperationQueue</span> *queue;
<span class="hljs-keyword">@end</span>

<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">ViewController</span></span>

<span class="hljs-preprocessor">#pragma mark - lazy loading</span>

-(<span class="hljs-built_in">NSArray</span> *)apps
{
    <span class="hljs-keyword">if</span> (_apps == <span class="hljs-literal">nil</span>) {

        <span class="hljs-comment">//1.&#x52A0;&#x8F7D;&#x672C;&#x5730;&#x7684;plist&#x6587;&#x4EF6;</span>
        <span class="hljs-built_in">NSArray</span> *appplistArray = [<span class="hljs-built_in">NSArray</span> arrayWithContentsOfFile:[[<span class="hljs-built_in">NSBundle</span> mainBundle]pathForResource:<span class="hljs-string">@&quot;apps.plist&quot;</span> ofType:<span class="hljs-literal">nil</span>]];

        <span class="hljs-comment">//2.&#x5B57;&#x5178;&#x8F6C;&#x6A21;&#x578B; appplistArray(&#x5B57;&#x5178;&#x6570;&#x7EC4;)----&gt;&#x6A21;&#x578B;&#x6570;&#x7EC4;</span>
        <span class="hljs-built_in">NSMutableArray</span> *arrayM = [<span class="hljs-built_in">NSMutableArray</span> arrayWithCapacity:appplistArray<span class="hljs-variable">.count</span>];

        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">NSDictionary</span> *dict <span class="hljs-keyword">in</span> appplistArray) {
            [arrayM addObject:[FZQApp appWithDict:dict]];
        }

        _apps = arrayM;
    }
    <span class="hljs-keyword">return</span> _apps;
}

-(<span class="hljs-built_in">NSMutableDictionary</span> *)images
{
    <span class="hljs-keyword">if</span> (_images == <span class="hljs-literal">nil</span>) {
        _images = [<span class="hljs-built_in">NSMutableDictionary</span> dictionary];
    }
    <span class="hljs-keyword">return</span> _images;
}

-(<span class="hljs-built_in">NSMutableDictionary</span> *)operations
{
    <span class="hljs-keyword">if</span> (_operations == <span class="hljs-literal">nil</span>) {
        _operations = [<span class="hljs-built_in">NSMutableDictionary</span> dictionary];
    }
    <span class="hljs-keyword">return</span> _operations;
}

-(<span class="hljs-built_in">NSOperationQueue</span> *)queue
{
    <span class="hljs-keyword">if</span> (_queue == <span class="hljs-literal">nil</span>) {
        <span class="hljs-comment">//&#x521B;&#x5EFA;&#x961F;&#x5217;</span>
        _queue = [[<span class="hljs-built_in">NSOperationQueue</span> alloc]init];
        <span class="hljs-comment">//&#x8BBE;&#x7F6E;&#x6700;&#x5927;&#x5E76;&#x53D1;&#x6570;</span>
        _queue<span class="hljs-variable">.maxConcurrentOperationCount</span> = <span class="hljs-number">5</span>;
    }
    <span class="hljs-keyword">return</span> _queue;
}
<span class="hljs-preprocessor">#pragma mark ---------------------------</span>
<span class="hljs-preprocessor">#pragma mark UITbaleViewDataSource</span>

-(<span class="hljs-built_in">NSInteger</span>)numberOfSectionsInTableView:(<span class="hljs-built_in">UITableView</span> *)tableView
{
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
}

-(<span class="hljs-built_in">NSInteger</span>)tableView:(<span class="hljs-built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="hljs-built_in">NSInteger</span>)section
{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span><span class="hljs-variable">.apps</span><span class="hljs-variable">.count</span>;
}

-(<span class="hljs-built_in">UITableViewCell</span> *)tableView:(<span class="hljs-built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="hljs-built_in">NSIndexPath</span> *)indexPath
{
    <span class="hljs-keyword">static</span> <span class="hljs-built_in">NSString</span> *ID = <span class="hljs-string">@&quot;app&quot;</span>;
    <span class="hljs-comment">//1.&#x521B;&#x5EFA;cell</span>
    <span class="hljs-built_in">UITableViewCell</span> *cell = [tableView dequeueReusableCellWithIdentifier:ID];
    <span class="hljs-comment">//2.&#x8BBE;&#x7F6E;cell&#x7684;&#x6570;&#x636E;</span>

    <span class="hljs-comment">//2.1 &#x53D6;&#x51FA;&#x8BE5;cell&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;</span>
    FZQApp *app = <span class="hljs-keyword">self</span><span class="hljs-variable">.apps</span>[indexPath<span class="hljs-variable">.row</span>];

    <span class="hljs-comment">//2.2 &#x8BBE;&#x7F6E;</span>
    cell<span class="hljs-variable">.textLabel</span><span class="hljs-variable">.text</span> = app<span class="hljs-variable">.name</span>;
    cell<span class="hljs-variable">.detailTextLabel</span><span class="hljs-variable">.text</span> = app<span class="hljs-variable">.download</span>;
    cell<span class="hljs-variable">.imageView</span><span class="hljs-variable">.image</span> = [<span class="hljs-keyword">self</span> setUpImage:<span class="hljs-keyword">self</span><span class="hljs-variable">.apps</span>[indexPath<span class="hljs-variable">.row</span>] indexPath:indexPath];

    <span class="hljs-comment">//3.&#x8FD4;&#x56DE;cell</span>
    <span class="hljs-keyword">return</span> cell;
}


<span class="hljs-preprocessor">#pragma mark - Life Cycle</span>
<span class="hljs-comment">//&#x6536;&#x5230;&#x5185;&#x5B58;&#x8B66;&#x544A;&#x65F6;&#x6E05;&#x9664;&#x7F13;&#x5B58;&#x548C;&#x961F;&#x5217;&#x4EFB;&#x52A1;</span>
-(<span class="hljs-keyword">void</span>)didReceiveMemoryWarning
{
    <span class="hljs-keyword">self</span><span class="hljs-variable">.images</span> = <span class="hljs-literal">nil</span>;
    <span class="hljs-keyword">self</span><span class="hljs-variable">.operations</span> = <span class="hljs-literal">nil</span>;
    [<span class="hljs-keyword">self</span><span class="hljs-variable">.queue</span> cancelAllOperations];
}

<span class="hljs-keyword">@end</span>


<span class="hljs-preprocessor">#pragma mark - Methods</span>
<span class="hljs-comment">/** &#x52A0;&#x8F7D;&#x5E76;&#x8BBE;&#x7F6E;&#x56FE;&#x7247; */</span>
-(<span class="hljs-built_in">UIImage</span> *)setUpImage:(FZQApp *)app indexPath:(<span class="hljs-built_in">NSIndexPath</span> *)indexPath
{
    <span class="hljs-comment">/********           &#x7F13;&#x5B58;&#x4E2D;&#x67E5;&#x627E;&#x56FE;&#x7247;          ********/</span>
    <span class="hljs-comment">//&#x4ECE;&#x7F13;&#x5B58;&#x4E2D;&#x83B7;&#x53D6;&#x56FE;&#x7247;</span>
    <span class="hljs-built_in">UIImage</span> *image = <span class="hljs-keyword">self</span><span class="hljs-variable">.images</span>[app<span class="hljs-variable">.iconUrl</span>];

    <span class="hljs-comment">//&#x5224;&#x65AD;&#x56FE;&#x7247;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;,&#x5B58;&#x5728;&#x5219;&#x76F4;&#x63A5;&#x663E;&#x793A;</span>
    <span class="hljs-keyword">if</span> (image) <span class="hljs-keyword">return</span> image;


    <span class="hljs-comment">/********           &#x78C1;&#x76D8;&#x7F13;&#x5B58;&#x4E2D;&#x67E5;&#x627E;&#x56FE;&#x7247;          ********/</span>
    <span class="hljs-comment">//&#x83B7;&#x53D6;cache&#x8DEF;&#x5F84;</span>
    <span class="hljs-built_in">NSString</span> *cachePath = <span class="hljs-built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="hljs-built_in">NSCachesDirectory</span>, <span class="hljs-built_in">NSUserDomainMask</span>, <span class="hljs-literal">YES</span>)[<span class="hljs-number">0</span>];

    <span class="hljs-comment">//&#x62FC;&#x63A5;&#x56FE;&#x7247;&#x78C1;&#x76D8;&#x7F13;&#x5B58;&#x8DEF;&#x5F84;</span>
    <span class="hljs-built_in">NSString</span> *imgsPath = [cachePath stringByAppendingPathComponent:[app<span class="hljs-variable">.iconUrl</span> lastPathComponent]];

    <span class="hljs-comment">//&#x4ECE;&#x78C1;&#x76D8;&#x4E2D;&#x83B7;&#x53D6;&#x56FE;&#x7247;</span>
    image = [<span class="hljs-built_in">UIImage</span> imageWithContentsOfFile:imgsPath];

    <span class="hljs-comment">//&#x78C1;&#x76D8;&#x7F13;&#x5B58;&#x4E2D;&#x662F;&#x5426;&#x5B58;&#x5728;&#x56FE;&#x7247;</span>
    <span class="hljs-keyword">if</span>(image){

            <span class="hljs-comment">//&#x5B58;&#x5728;&#x5199;&#x5165;&#x5230;&#x5185;&#x5B58;&#x7F13;&#x5B58;&#x4E2D;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x56FE;&#x7247;</span>
            [<span class="hljs-keyword">self</span><span class="hljs-variable">.images</span> setObject:image forKey:app<span class="hljs-variable">.iconUrl</span>];

            <span class="hljs-keyword">return</span> image;
    }

    <span class="hljs-comment">/********           &#x7F51;&#x7EDC;&#x4E0A;&#x52A0;&#x8F7D;&#x56FE;&#x7247;          ********/</span>
    <span class="hljs-comment">//&#x82E5;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x5230;&#x7F51;&#x4E0A;&#x53BB;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;&#xFF0C;&#x5148;&#x7528;&#x5360;&#x4F4D;&#x56FE;&#x7247;&#x663E;&#x793A;</span>
    image = IMAGE(<span class="hljs-string">@&quot;Snip20151102_160.png&quot;</span>);

    <span class="hljs-comment">//&#x751F;&#x6210;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;&#x4EFB;&#x52A1;</span>
    [<span class="hljs-keyword">self</span> downLoadOperation:app indexPath:indexPath imagesPath:imgsPath];

    <span class="hljs-keyword">return</span> image;
}

<span class="hljs-comment">/* &#x8BBE;&#x7F6E;&#x4E0B;&#x8F7D;&#x4EFB;&#x52A1; */</span>
- (<span class="hljs-keyword">void</span>)downLoadOperation:(FZQApp *)app indexPath:(<span class="hljs-built_in">NSIndexPath</span> *)indexPath imagesPath:(<span class="hljs-built_in">NSString</span> *)imagesPath
{
    <span class="hljs-comment">//&#x8BBE;&#x7F6E;&#x4E0B;&#x8F7D;&#x4EFB;&#x52A1;</span>
    <span class="hljs-built_in">NSBlockOperation</span> *downLoadOpe = <span class="hljs-keyword">self</span><span class="hljs-variable">.operations</span>[app<span class="hljs-variable">.iconUrl</span>];

    <span class="hljs-comment">//&#x5224;&#x65AD;&#x4E0B;&#x8F7D;&#x4EFB;&#x52A1;&#x662F;&#x5426;&#x5B58;&#x5728;</span>
    <span class="hljs-keyword">if</span>(downLoadOpe == <span class="hljs-literal">nil</span>){

        <span class="hljs-comment">//&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x65B0;&#x5EFA;&#x4E0B;&#x8F7D;&#x4EFB;&#x52A1;&#xFF0C;&#x5E76;&#x8BB0;&#x5F55;&#x4E0B;&#x8F7D;&#x4EFB;&#x52A1;</span>
        downLoadOpe = [<span class="hljs-built_in">NSBlockOperation</span> blockOperationWithBlock:^{

            <span class="hljs-comment">//&#x52A0;&#x8F7D;&#x6570;&#x636E;</span>
            <span class="hljs-built_in">NSData</span> *data = [<span class="hljs-built_in">NSData</span> dataWithContentsOfURL:[<span class="hljs-built_in">NSURL</span> URLWithString:app<span class="hljs-variable">.iconUrl</span>]];

            <span class="hljs-comment">//&#x4E0B;&#x8F7D;&#x56FE;&#x7247;</span>
            <span class="hljs-built_in">UIImage</span> *image = [<span class="hljs-built_in">UIImage</span> imageWithData:data];

            <span class="hljs-comment">//&#x5224;&#x65AD;&#x4E0B;&#x8F7D;&#x56FE;&#x7247;&#x662F;&#x5426;&#x4E3A;&#x7A7A;&#xFF0C;&#x82E5;&#x662F;&#x9700;&#x8981;&#x6E05;&#x9664;&#x4E0B;&#x8F7D;&#x4EFB;&#x52A1;&#x5E76;&#x8FD4;&#x56DE;</span>
            <span class="hljs-keyword">if</span> (!image) {
                <span class="hljs-comment">//&#x6E05;&#x9664;&#x4EFB;&#x52A1;</span>
                [<span class="hljs-keyword">self</span><span class="hljs-variable">.operations</span> removeObjectForKey:app<span class="hljs-variable">.iconUrl</span>];

                <span class="hljs-comment">//&#x8FD4;&#x56DE;</span>
                <span class="hljs-keyword">return</span> ;
            }

            <span class="hljs-comment">//&#x56DE;&#x5230;&#x4E3B;&#x7EBF;&#x7A0B;&#x5237;&#x65B0;UI</span>
            [<span class="hljs-keyword">self</span> refreshView:indexPath image:image];

            <span class="hljs-comment">//&#x5199;&#x5165;&#x5185;&#x5B58;&#x7F13;&#x5B58;</span>
            [<span class="hljs-keyword">self</span><span class="hljs-variable">.images</span> setObject:image forKey:app<span class="hljs-variable">.iconUrl</span>];

            <span class="hljs-comment">//&#x5199;&#x5165;&#x5230;&#x78C1;&#x76D8;&#x7F13;&#x5B58;&#x4E2D;</span>
            [data writeToFile:imagesPath atomically:<span class="hljs-literal">YES</span>];

            <span class="hljs-comment">//&#x6E05;&#x9664;&#x4E0B;&#x8F7D;&#x4EFB;&#x52A1;</span>
            [<span class="hljs-keyword">self</span><span class="hljs-variable">.operations</span> removeObjectForKey:app<span class="hljs-variable">.iconUrl</span>];
        }];

        <span class="hljs-comment">//&#x6DFB;&#x52A0;&#x4EFB;&#x52A1;</span>
        [<span class="hljs-keyword">self</span><span class="hljs-variable">.queue</span> addOperation:downLoadOpe];

        <span class="hljs-comment">// &#x8BB0;&#x5F55;&#x4E0B;&#x8F7D;&#x4EFB;&#x52A1;</span>
        [<span class="hljs-keyword">self</span><span class="hljs-variable">.operations</span> setObject:downLoadOpe forKey:app<span class="hljs-variable">.iconUrl</span>];
    }
}

<span class="hljs-comment">/* &#x5237;&#x65B0;UI */</span>
- (<span class="hljs-keyword">void</span>)refreshView:(<span class="hljs-built_in">NSIndexPath</span> *)indexPath image:(<span class="hljs-built_in">UIImage</span> *)image
{
    <span class="hljs-comment">//&#x4E0B;&#x8F7D;&#x5B8C;&#x6BD5;&#x540E;&#x56DE;&#x5230;&#x4E3B;&#x7EBF;&#x7A0B;&#x5237;&#x65B0;&#x6570;&#x636E;</span>
    [[<span class="hljs-built_in">NSOperationQueue</span> mainQueue]addOperationWithBlock:^{

        <span class="hljs-comment">//&#x8BBE;&#x7F6E;cell&#x56FE;&#x7247;</span>
        [<span class="hljs-keyword">self</span><span class="hljs-variable">.tableView</span> cellForRowAtIndexPath:indexPath]<span class="hljs-variable">.imageView</span><span class="hljs-variable">.image</span> = image;

        <span class="hljs-comment">//&#x5237;&#x65B0;&#x6570;&#x636E;</span>
        [<span class="hljs-keyword">self</span><span class="hljs-variable">.tableView</span> reloadRowsAtIndexPaths:@[indexPath] withRowAnimation:<span class="hljs-built_in">UITableViewRowAnimationAutomatic</span>];
    }];
}


<span class="hljs-preprocessor">###&#x5728;&#x6A21;&#x578B;.h&#x4E2D;</span>
<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">FZQApp</span> : <span class="hljs-title">NSObject</span></span>

<span class="hljs-comment">/** &#x540D;&#x79F0; */</span>
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span> ,<span class="hljs-keyword">strong</span>)<span class="hljs-built_in">NSString</span> *name;
<span class="hljs-comment">/** &#x56FE;&#x7247;&#x7684;url */</span>
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span> ,<span class="hljs-keyword">strong</span>)<span class="hljs-built_in">NSString</span> *icon;
<span class="hljs-comment">/** &#x4E0B;&#x8F7D;&#x6570;&#x91CF; */</span>
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span> ,<span class="hljs-keyword">strong</span>)<span class="hljs-built_in">NSString</span> *download;

+(instancetype)appWithDict:(<span class="hljs-built_in">NSDictionary</span> *)dict;
<span class="hljs-keyword">@end</span>

<span class="hljs-preprocessor">###&#x5728;&#x6A21;&#x578B;.m&#x4E2D;</span>
<span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">FZQApp</span></span>

+(instancetype)appWithDict:(<span class="hljs-built_in">NSDictionary</span> *)dict
{
    FZQApp *app = [[FZQApp alloc]init];
    <span class="hljs-comment">//KVC</span>
    [app setValuesForKeysWithDictionary:dict];

    <span class="hljs-keyword">return</span> app;
}
<span class="hljs-keyword">@end</span>
</code></pre>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; fzq2016 2016 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2016-06-06 19:28:15
</span></footer>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../multithreading/nsoperation/nsoperation.html" class="navigation navigation-prev " aria-label="Previous page: NSOperation"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../single/index.html" class="navigation navigation-next " aria-label="Next page: 单例"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-splitter/splitter.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"tbfed-pagefooter":{"copyright":"Copyright &copy fzq2016 2016","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"splitter":{},"toggle-chapters":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
    </body>
    <!-- End of book 本书目录-- 回到所有书目录 -->
</html>
